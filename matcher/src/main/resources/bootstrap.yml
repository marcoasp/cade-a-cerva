spring:
  application:
    name: matcher
  cloud:
    config:
      username: ${CONFIG_USER:config}
      password: ${CONFIG_PASSWORD:password}
      fail-fast: true
      discovery:
        enabled: true

eureka:
  client:
    registerWithEureka: false
    fetchRegistry: true
    serviceUrl.defaultZone: ${EUREKA_ADDRESS:http://eureka:password@localhost:8761}/eureka

---
spring:
  profiles: "local"
  cloud:
    stream:
      bindings:
        users-in-0:
          destination: users
          group: users
    config:
      enabled: false
      discovery.enabled: false
    discovery:
      enabled: false
eureka:
  client:
    enabled: false

---
spring:
  profiles: "integration-tests"
  cloud:
    stream:
      source: users
      bindings:
        users-in-0:
          destination: users
          group: users
    config:
      enabled: false
      discovery.enabled: false
    discovery:
      enabled: false

eureka:
  client:
    enabled: false

logging:
  level:
    org:
      springframework:
        data:
          mongodb:
            core:
              MongoTemplate: DEBUG